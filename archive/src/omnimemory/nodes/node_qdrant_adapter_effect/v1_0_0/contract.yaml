# ONEX Effect Contract for Qdrant Adapter Effect Node
# High-performance vector database adapter with semantic search capabilities
---

# Required contract metadata
contract_version: "1.0.0"
name: "qdrant_adapter_effect"
version:
  major: 1
  minor: 0
  patch: 0
description: "High-performance Qdrant vector database adapter providing semantic search, vector storage, and collection management capabilities"

# Contract structure
contract_name: "qdrant_adapter_effect_contract"
contract_description: "ONEX Effect contract for Qdrant vector database operations including storage, retrieval, and semantic search"

# Model references (using qualified module paths)
input_model: "omnimemory.models.memory.model_qdrant_adapter_input.ModelQdrantAdapterInput"
output_model: "omnimemory.models.memory.model_qdrant_adapter_output.ModelQdrantAdapterOutput"

# I/O Operations supported by this Effect node
io_operations:
  - operation_type: "STORE_VECTOR"
    description: "Store vector embeddings with metadata"
    input_schema: "ModelQdrantAdapterInput"
    output_schema: "ModelQdrantAdapterOutput"
  - operation_type: "SEARCH_VECTORS"
    description: "Semantic vector similarity search"
    input_schema: "ModelQdrantAdapterInput"
    output_schema: "ModelQdrantAdapterOutput"
  - operation_type: "DELETE_VECTOR"
    description: "Delete specific vector by ID"
    input_schema: "ModelQdrantAdapterInput"
    output_schema: "ModelQdrantAdapterOutput"
  - operation_type: "CREATE_COLLECTION"
    description: "Create new vector collection"
    input_schema: "ModelQdrantAdapterInput"
    output_schema: "ModelQdrantAdapterOutput"
  - operation_type: "HEALTH_CHECK"
    description: "Check Qdrant connection health"
    input_schema: "ModelQdrantAdapterInput"
    output_schema: "ModelQdrantAdapterOutput"

# Legacy input/output state (for backwards compatibility during migration)
input_state:
  type: object
  properties:
    operation_type:
      type: string
      enum: ["STORE_VECTOR", "SEARCH_VECTORS", "DELETE_VECTOR", "CREATE_COLLECTION", "HEALTH_CHECK"]
    collection_name:
      type: string
    vector_data:
      type: object
    search_params:
      type: object

output_state:
  type: object
  properties:
    success:
      type: boolean
    result:
      type: object
    error_message:
      type: string
    execution_time_ms:
      type: number

# Node metadata
node_name: "qdrant_adapter_effect"
node_version: "1.0.0"
hash: "qdrant_adapter_effect_v1_0_0_onex_compliant"
last_modified_at: '2025-09-16T11:32:00Z'

# ONEX Effect node capabilities
capabilities:
  - "vector_storage"
  - "semantic_search"
  - "collection_management"
  - "health_monitoring"
  - "batch_operations"

# Performance characteristics
performance:
  expected_latency_ms: 50
  max_throughput_ops_per_second: 1000
  memory_usage_mb: 256
  cpu_intensive: false
  io_intensive: true